---
import { ClientRouter } from 'astro:transitions';

import BetterIcon from '@/components/ui/BetterIcon.astro';
import Navbar from '@/components/ui/Navbar.astro';
import Head from '@/components/Head.astro';

import { seo, template } from '@/settings';
import Footer from '@/components/ui/Footer.astro';

type Props = {
  title?: string;
  description?: string;
  image?: string;
};

const {
  title = seo.default_title,
  description = seo.default_description,
  image = seo.default_image,
} = Astro.props;
---

<!doctype html>
<html lang="fr">
  <head>
    {template.transitions && <ClientRouter />}

    <Head title={title} description={description} image={image} />
  </head>
  <body>
    <div
      class={`bg-base-100 drawer lg:drawer-open ${template.menu_left ? 'drawer-end' : ''}`}
    >
      <input id="my-drawer" type="checkbox" class="drawer-toggle" />
      <!-- Drawer content -->
      <div class="drawer-content bg-base-100">
        <!-- Bouton hamburger pour mobile -->
        <div class="lg:hidden fixed top-4 left-4 z-50">
          <label for="my-drawer" class="btn btn-square btn-ghost">
            <BetterIcon>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                class="size-6 stroke-current"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
              </svg>
            </BetterIcon>
          </label>
        </div>
        <main
          class="p-8 pt-20 lg:pt-16 lg:max-w-5xl max-w-full mx-auto min-h-screen flex flex-col justify-between"
        >
          <!-- Page content -->
          <slot />
          <Footer />
        </main>
      </div>
      <!-- Drawer side -->
      <div class="drawer-side z-40">
        <label for="my-drawer" aria-label="close sidebar" class="drawer-overlay"
        ></label>
        <Navbar />
      </div>
    </div>
  </body>
</html>

<style>
  html,
  body {
    margin: 0;
    width: 100%;
    height: 100%;
  }
</style>

<style is:global>
  /* Shiki dual theme - Light mode (default) */
  .astro-code,
  .astro-code span,
  .astro-code code {
    color: var(--shiki-light);
    background-color: transparent;
  }
  .astro-code {
    background-color: #f6f8fa;
    padding: 1rem;
    border-radius: 0.5rem;
  }

  /* Dark mode - all DaisyUI dark themes */
  [data-theme='dark'] .astro-code,
  [data-theme='synthwave'] .astro-code,
  [data-theme='halloween'] .astro-code,
  [data-theme='forest'] .astro-code,
  [data-theme='aqua'] .astro-code,
  [data-theme='black'] .astro-code,
  [data-theme='luxury'] .astro-code,
  [data-theme='dracula'] .astro-code,
  [data-theme='business'] .astro-code,
  [data-theme='night'] .astro-code,
  [data-theme='coffee'] .astro-code,
  [data-theme='dim'] .astro-code,
  [data-theme='sunset'] .astro-code,
  [data-theme='creasteph-dark'] .astro-code {
    background-color: #24292e;
  }

  [data-theme='dark'] .astro-code span,
  [data-theme='dark'] .astro-code code,
  [data-theme='synthwave'] .astro-code span,
  [data-theme='synthwave'] .astro-code code,
  [data-theme='halloween'] .astro-code span,
  [data-theme='halloween'] .astro-code code,
  [data-theme='forest'] .astro-code span,
  [data-theme='forest'] .astro-code code,
  [data-theme='aqua'] .astro-code span,
  [data-theme='aqua'] .astro-code code,
  [data-theme='black'] .astro-code span,
  [data-theme='black'] .astro-code code,
  [data-theme='luxury'] .astro-code span,
  [data-theme='luxury'] .astro-code code,
  [data-theme='dracula'] .astro-code span,
  [data-theme='dracula'] .astro-code code,
  [data-theme='business'] .astro-code span,
  [data-theme='business'] .astro-code code,
  [data-theme='night'] .astro-code span,
  [data-theme='night'] .astro-code code,
  [data-theme='coffee'] .astro-code span,
  [data-theme='coffee'] .astro-code code,
  [data-theme='dim'] .astro-code span,
  [data-theme='dim'] .astro-code code,
  [data-theme='sunset'] .astro-code span,
  [data-theme='sunset'] .astro-code code,
  [data-theme='creasteph-dark'] .astro-code span,
  [data-theme='creasteph-dark'] .astro-code code {
    color: var(--shiki-dark);
    background-color: transparent;
  }
</style>
